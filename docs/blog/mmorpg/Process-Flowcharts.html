<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google" content="notranslate" />

  <title>Neil Toledo - Process Flowcharts (Draft)</title>
  <meta name="description" content="For each feature of the game I’m gonna be sort of brainstorming and jotting down logistics of how features will be implemented.">

  <link rel="icon" href="/assets/images/me.jpg">
  <link rel="shortcut icon" href="/assets/images/me.jpg">
  <link rel="apple-touch-icon" href="/assets/images/me.jpg">

  <link rel="stylesheet" href="/assets/css/rouge.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <!--<link href='https://fonts.googleapis.com/css?family=Lexend+Deca' rel='stylesheet'>-->
  <!--<link href='https://fonts.googleapis.com/css?family=Livvic' rel='stylesheet'>-->
  <!--<link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet'>-->
  <!--<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>-->
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Comfortaa' rel='stylesheet'>
</head>

  <body>
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

<!--   <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Process Flowcharts (Draft)</h1>
    <p class="post-meta"><time datetime="2020-04-19T00:00:00-07:00" itemprop="datePublished">Apr 19, 2020</time></p>
  </header> -->

    <link rel="stylesheet" href="/assets/css/documentation.css">

    <div id='top-nav-container'>

	<div id='nav-left'>
		<a href='/' class='img-container'> <img id="home-img" src="/assets/images/me.jpg"> </a>
		<h1> 2DMMORPG Documentation </h1>
	</div> 

	<div id='nav-right'>
		<a class="rect-btn" href="/portfolio"> <span>portfolio</span> </a>
		<a class="rect-btn" href="/blog/projects"> <span>blog</span> </a>
		<a class="rect-btn" href="/assets/images/resume.pdf"> <span>resume</span> </a>
	</div>

</div>

<style>

	#top-nav-container {
		display: flex;
		flex-direction: row;

		justify-content: space-between;

	 	max-width: 1280px;
		width: 80vw;

		position: absolute;
		margin: 0px auto;
		top: 32px;
		left: 0px;
		right: 0px;
	}

	#home-img {
		height: 64px;
		width: 64px;
		border-radius: 50%;
		border: 2px black solid;
	}

	#nav-left, #nav-right {
		display: flex;
		flex-direction: row;
	}

	#nav-left > * {
		margin-top: auto;
		margin-bottom: auto;
	}

	#nav-right > * {
		margin-top: auto;
		margin-bottom: auto;
	}

	#nav-left > h1 {
		margin-left: 12px;
		cursor: default;
	}

	.sm-link {
		font-size: 10pt;
		padding: 6px 8px;
	}

	.img-container {
		display: flex;
	}

	.rect-btn {
		width: 128px;
		margin-left: 10px;
		margin-right: 10px;
		border: 2px solid black;
		border-radius: 6px;
		background: white;
		box-shadow: 5px 5px;
		transform: translateY(-5px) translateX(-5px);
		cursor: pointer;
		height: 32px;
		display: flex;
		z-index: 10;
		color: black;
	}

	.rect-btn:hover {
		transition: 0.1s;
		box-shadow: 2px 2px;
		transform: translateY(-2px) translateX(-2px);
		text-decoration: none;
	}
	
	.rect-btn > * {
		margin: auto;
	}


@media (max-width: 1024px) {
	#top-nav-container {
		position: absolute;
	}

	#nav-right {
		display: none;
	}

}

</style>

    <div id="page-container">

        <div id="nav-container">
            <span> Pages </span>
            <ul class='nav-page-list'>
<!--                <a href="#"> • Project Overview </a>
                <a href="#"> • Process Documentation </a>
                <a href="#"> • CI/CD and Infrastructure </a>
                <span> Software Architecture </span>
                <ul class='nav-page-list'>
                    <a href="#"> • C4 Models </a>
                    <a href="#"> • Architecture Diagrams </a>
                    <a href="#"> • Flowchart Descriptions </a>
                    <a href="#"> • Game Engine Overview </a>
                </ul>
                <span> Notes </span>
                <ul class='nav-page-list'>
                    <a href="#"> • C4 Models for Software Architecture </a>
                    <a href="#"> • Helm Charts </a>
                </ul> -->

                

                

                

                <!-- get posts without parent -->
                
                    
                
                    
                
                    
                        <a href="/blog/mmorpg/mmorpg-project-overview"> • Project Overview </a>
                    
                
                    
                
                    
                
                    
                
                    
                

                <!-- get posts with parent tag -->
                
                    
                    

                    

                    
                    <span> Software Architecture </span>
                    <ul class='nav-page-list'>
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                    
                        
                            <a href="/blog/mmorpg/C4-Architecture-Models"> • C4 Architecture Models </a>
                        
                    
                        
                            <a href="/blog/mmorpg/Process-Flowcharts"> • Process Flowcharts (Draft) </a>
                        
                    
                    </ul>
                    

                
                    
                    

                    

                    
                    <span> CI/CD and Infrastructure </span>
                    <ul class='nav-page-list'>
                    
                        
                            <a href="/blog/mmorpg/CICD-Overview"> • Overview </a>
                        
                    
                        
                            <a href="/blog/mmorpg/Configuration-and-Setup"> • Configuration/Setup </a>
                        
                    
                        
                    
                        
                            <a href="/blog/mmorpg/Polling-Server"> • Polling Server </a>
                        
                    
                        
                            <a href="/blog/mmorpg/Helm-API"> • Helm API </a>
                        
                    
                        
                    
                        
                    
                    </ul>
                    

                


            </ul>
        </div>

        <div id="page-content" itemprop="articleBody">
            <header class="post-header">
                <h1 class="post-title" itemprop="name headline">Process Flowcharts (Draft)</h1>
                <p class="post-meta"><time datetime="2020-04-19T00:00:00-07:00" itemprop="datePublished">Apr 19, 2020</time></p>
            </header>
            <p>For each feature of the game I’m gonna be sort of brainstorming and jotting down logistics of how features will be implemented.</p>

<p class="column"><a href="/assets/images/mmorpg_pictures/l2-diagram.png"><img src="/assets/images/mmorpg_pictures/l2-diagram.png" alt="l2_diagram" style="width: 100%" /></a></p>

<h4 id="login-process">Login Process:</h4>
<ol>
  <li>the front end client opens a google auth login link</li>
  <li>front end client saves a session/login token into local cache</li>
  <li>client sends session token with websocket connection request to the master server</li>
  <li>master server verifies session token using google identity platform</li>
  <li>master server adds user to ‘logged in users’ redis table</li>
  <li>master server requests player data and last known location from player data service</li>
  <li>master server sends api call to server manager requesting ip address for corresponding game server</li>
  <li>server manager checks if there exists active game server for location, if not creates a new pod and sends configuration details and then responds to master server with ip address</li>
  <li>master server responds to client with game server address as well as social service api</li>
  <li>client establishes websocket connection with both IP addresses
    <ul>
      <li>can possibly include a verification token to ensure misc. clients can’t establish connections with random game servers</li>
    </ul>
  </li>
</ol>

<h4 id="character-moves-to-a-different-area-process">Character Moves to a Different Area Process:</h4>
<ol>
  <li>client sends user input to exit area</li>
  <li>game server receives user input and verifies attempt to exit area</li>
  <li>game server sends message to master game server that player is moving areas</li>
  <li>master game server sends request to server manager for new game server</li>
  <li>server manager checks for requested game server
    <ul>
      <li>if game server exists send ip to master game server</li>
      <li>else if previous game server now has zero players, reconfig existing connection and update redis
        <ul>
          <li>can maybe skip some of the next steps since no new websocket needs to be created</li>
        </ul>
      </li>
      <li>else create/find inactive game server and respond with its IP address</li>
    </ul>
  </li>
  <li>master game server receives IP address, saves the players new location, and sends back to game server
game server sends IP address back to client and closes the websocket connection</li>
</ol>

<p><br /></p>

        </div>

    </div>
</article>
  </body>


  <script src="/assets/js/jquery-3.3.1.min.js"></script>
  <script src="/assets/js/main.js"></script>
  <link rel="stylesheet" href="/assets/css/mobile.css">
</html>