<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google" content="notranslate" />

  <title>Neil Toledo - C4 Model Descriptions</title>
  <meta name="description" content="For now, I’m writing just descriptions of what the diagrams will look like, before I draw and render the actual diagrams.C4 Model Software Architecture Refer...">

  <link rel="icon" href="/assets/images/me.jpg">
  <link rel="shortcut icon" href="/assets/images/me.jpg">
  <link rel="apple-touch-icon" href="/assets/images/me.jpg">

  <link rel="stylesheet" href="/assets/css/rouge.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <!--<link href='https://fonts.googleapis.com/css?family=Lexend+Deca' rel='stylesheet'>-->
  <!--<link href='https://fonts.googleapis.com/css?family=Livvic' rel='stylesheet'>-->
  <!--<link href='https://fonts.googleapis.com/css?family=Raleway' rel='stylesheet'>-->
  <!--<link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>-->
  <link href='https://fonts.googleapis.com/css?family=Montserrat' rel='stylesheet'>
  <link href='https://fonts.googleapis.com/css?family=Comfortaa' rel='stylesheet'>
</head>

  <body>
    <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

<!--   <header class="post-header">
    <h1 class="post-title" itemprop="name headline">C4 Model Descriptions</h1>
    <p class="post-meta"><time datetime="2020-04-20T00:00:00-07:00" itemprop="datePublished">Apr 20, 2020</time></p>
  </header> -->

    <link rel="stylesheet" href="/assets/css/documentation.css">

    <div id='top-nav-container'>

	<div id='nav-left'>
		<a href='/' class='img-container'> <img id="home-img" src="/assets/images/me.jpg"> </a>
		<h1> 2DMMORPG Documentation </h1>
	</div> 

	<div id='nav-right'>
		<a class="rect-btn" href="/portfolio"> <span>portfolio</span> </a>
		<a class="rect-btn" href="/blog/projects"> <span>blog</span> </a>
		<a class="rect-btn" href="/assets/images/resume.pdf"> <span>resume</span> </a>
	</div>

</div>

<style>

	#top-nav-container {
		display: flex;
		flex-direction: row;

		justify-content: space-between;

	 	max-width: 1280px;
		width: 80vw;

		position: absolute;
		margin: 0px auto;
		top: 32px;
		left: 0px;
		right: 0px;
	}

	#home-img {
		height: 64px;
		width: 64px;
		border-radius: 50%;
		border: 2px black solid;
	}

	#nav-left, #nav-right {
		display: flex;
		flex-direction: row;
	}

	#nav-left > * {
		margin-top: auto;
		margin-bottom: auto;
	}

	#nav-right > * {
		margin-top: auto;
		margin-bottom: auto;
	}

	#nav-left > h1 {
		margin-left: 12px;
		cursor: default;
	}

	.sm-link {
		font-size: 10pt;
		padding: 6px 8px;
	}

	.img-container {
		display: flex;
	}

	.rect-btn {
		width: 128px;
		margin-left: 10px;
		margin-right: 10px;
		border: 2px solid black;
		border-radius: 6px;
		background: white;
		box-shadow: 5px 5px;
		transform: translateY(-5px) translateX(-5px);
		cursor: pointer;
		height: 32px;
		display: flex;
		z-index: 10;
		color: black;
	}

	.rect-btn:hover {
		transition: 0.1s;
		box-shadow: 2px 2px;
		transform: translateY(-2px) translateX(-2px);
		text-decoration: none;
	}
	
	.rect-btn > * {
		margin: auto;
	}


@media (max-width: 1024px) {
	#top-nav-container {
		position: absolute;
	}

	#nav-right {
		display: none;
	}

}

</style>

    <div id="page-container">

        <div id="nav-container">
            <span> Pages </span>
            <ul class='nav-page-list'>
<!--                <a href="#"> • Project Overview </a>
                <a href="#"> • Process Documentation </a>
                <a href="#"> • CI/CD and Infrastructure </a>
                <span> Software Architecture </span>
                <ul class='nav-page-list'>
                    <a href="#"> • C4 Models </a>
                    <a href="#"> • Architecture Diagrams </a>
                    <a href="#"> • Flowchart Descriptions </a>
                    <a href="#"> • Game Engine Overview </a>
                </ul>
                <span> Notes </span>
                <ul class='nav-page-list'>
                    <a href="#"> • C4 Models for Software Architecture </a>
                    <a href="#"> • Helm Charts </a>
                </ul> -->

                

                

                

                <!-- get posts without parent -->
                
                    
                
                    
                        <a href="/blog/mmorpg/mmorpg-project-overview"> • Project Overview </a>
                    
                
                    
                
                    
                

                <!-- get posts with parent tag -->
                
                    
                    

                    

                    
                    <span> Software Architecture </span>
                    <ul class='nav-page-list'>
                    
                        
                    
                        
                    
                        
                    
                        
                            <a href="/blog/mmorpg/C4-Model-Descriptions"> • C4 Model Descriptions </a>
                        
                    
                    </ul>
                    

                
                    
                    

                    

                    
                    <span> CI/CD and Infrastructure </span>
                    <ul class='nav-page-list'>
                    
                        
                            <a href="/blog/mmorpg/CICD-Overview"> • CD Overview </a>
                        
                    
                        
                    
                        
                            <a href="/blog/mmorpg/Docker-Build-Server"> • Docker Build Server </a>
                        
                    
                        
                    
                    </ul>
                    

                


            </ul>
        </div>

        <div id="page-content" itemprop="articleBody">
            <header class="post-header">
                <h1 class="post-title" itemprop="name headline">C4 Model Descriptions</h1>
                <p class="post-meta"><time datetime="2020-04-20T00:00:00-07:00" itemprop="datePublished">Apr 20, 2020</time></p>
            </header>
            <p>For now, I’m writing just descriptions of what the diagrams will look like, before I draw and render the actual diagrams.<br />
<a href="https://c4model.com/">C4 Model Software Architecture Reference</a></p>

<h4 id="level-1-system-context">Level 1: System Context</h4>

<ul>
  <li>first we have the public end users that we can call the g a m e r s</li>
  <li>I’ll be using the Google Identity Platform for login and authentication</li>
  <li>For now we can separate the client side and server side as separate Software Systems</li>
  <li>Client Side Role:
    <ul>
      <li>sends user input and signals to the server</li>
      <li>runs game logic and client-side predictions</li>
      <li>draws and renders the game onto the g a m e r ‘ s screen</li>
      <li>re-synchronizes the client side game state based off messages from the server</li>
    </ul>
  </li>
  <li>Server Side Role:
    <ul>
      <li>for system context I’ll leave out the infrastructure related content</li>
      <li>or maybe I should split the infrastructure and client side server code?</li>
      <li>or include the kube-api as its separate software system?</li>
    </ul>
  </li>
</ul>

<h4 id="level-2-container-context">Level 2: Container Context</h4>
<ul>
  <li>Client Side
    <ul>
      <li>this isn’t technically packaged in its own container, but is a bundle of code served by the master server</li>
      <li>runs phaser.io game loop to render the game onto the web browser</li>
      <li>handles user input and sends events to game instance server</li>
      <li>does client side prediction and server synchronization during update loop</li>
    </ul>
  </li>
  <li>Master Game Server
    <ul>
      <li>serves client side application to the user</li>
      <li>redirects user to game instance server IP, and sets up connection between the two</li>
    </ul>
  </li>
  <li>Player Data Service
    <ul>
      <li>only receives events from the game instance servers</li>
      <li>stores and updates all relevant player data</li>
      <li>might be accessible through a leader boards website or something</li>
      <li>CAN be scaled independently depending on necessity</li>
    </ul>
  </li>
  <li>Server Manager
    <ul>
      <li>takes requests from the main master server and is in charge of using the kube-api and spawning game instance servers</li>
    </ul>
  </li>
  <li>Game Instance Server(s)
    <ul>
      <li>is spawned by the server manager</li>
      <li>runs an express.js and phaser.io game loop (except for the draw function)</li>
      <li>takes connected user input, calculates updates and responds with updated game state</li>
      <li>sends and receives updates from the player data service</li>
      <li>is only responsible for events happening within respective map/geography</li>
    </ul>
  </li>
</ul>

<p>some of this information probably belongs in the L3 component diagram, but it’s important to first know what the containers are and how they interact :)</p>

<p>Other Things to Consider:</p>

<ul>
  <li>chat messages</li>
  <li>party, guild and quest data</li>
</ul>

<h4 id="level-3-component-context">Level 3: Component Context</h4>
<p>some of this will probably just be a rehash of L2, but can probably specify more of the libraries/database technologies that facilitate each components functionality :)</p>

<ul>
  <li>Master Game Server
    <ul>
      <li>redis queue maybe to keep track of all logged in/active users</li>
      <li>yeah, in case master game server needs to be scaled as well, we can sync logged in users to a redis db</li>
    </ul>
  </li>
  <li>Server Manager
    <ul>
      <li>if need to uh scale the server manager, then can probably use redis to keep track of all the game instance servers</li>
    </ul>
  </li>
  <li>Game Instance Server
    <ul>
      <li>actually not sure if it needs a redis instance if it can handle everything in memory?  I mean, redis is already in memory, but thats beside the point.  Since game servers are temporary, it could probably handle everything going on in its own memory stack</li>
      <li>Unrelated, but this brings up the point of managing global events if necessary? (something like a chat box; maybe make a chat microservice lmao should be PLENTY of tutorials for that one)
        <ul>
          <li>also unrelated but I like how you had to pay for global chat messages</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h4 id="level-4-code-context">Level 4: Code Context</h4>
<ul>
  <li>haha might skip this for now</li>
  <li>seems unnecessary until further notice</li>
</ul>

        </div>

    </div>
</article>
  </body>


  <script src="/assets/js/jquery-3.3.1.min.js"></script>
  <script src="/assets/js/main.js"></script>
  <link rel="stylesheet" href="/assets/css/mobile.css">
</html>